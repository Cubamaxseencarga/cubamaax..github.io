!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2572009c-5f0f-4e77-89dd-6fbbe6fc0bec",e._sentryDebugIdIdentifier="sentry-dbid-2572009c-5f0f-4e77-89dd-6fbbe6fc0bec")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7070],{7227:function(e,t,a){a.d(t,{Z:function(){return c}});var s=a(20043),r=a(56291),n=a(10737);let c=e=>{let{note:t}=e;return t?(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-semibold",children:(0,s.jsx)(n.FormattedMessage,{id:"virtualLocker.stepSendForm.note.label"})}),(0,s.jsx)(r.gxH,{className:"resize-none focus-visible:ring-transparent",draggable:!1,readOnly:!0,children:t})]}):null}},14660:function(e,t,a){a.d(t,{G:function(){return n}});var s=a(20043),r=a(10737);let n=e=>{let{receiverDeliveryAddress:t,receiverCity:a,receiverState:n}=e,c=[t,a,n].filter(Boolean).join(", ");return(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"font-semibold",children:[(0,s.jsx)(r.FormattedMessage,{id:"store.deliveryAddress"}),":"]})," ",(0,s.jsx)("span",{className:"text-gray-400",children:c})]})}},90283:function(e,t,a){a.d(t,{R:function(){return i}});var s=a(20043),r=a(87078),n=a.n(r),c=a(45590);let i=e=>{let{serviceName:t,serviceStatusKey:a,status:r}=e;return(0,s.jsxs)("span",{className:"flex items-center justify-between gap-2 pb-2 pl-0 mt-2 ml-5 text-sm text-gray-400 border-b",children:[(0,s.jsx)("span",{className:"font-bold text-black",children:t})," ",!n()(a)&&(0,s.jsx)(c.j,{status:r,statusKey:a})]})}},61374:function(e,t,a){a.d(t,{W:function(){return d}});var s=a(20043),r=a(56291),n=a(10737),c=a(73892),i=a(98931),o=a(82302);let l=(0,i.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.zxk,{className:(0,o.cn)("text-primary w-fit p-2",a),ref:t,size:"icon",variant:"ghost",...n,children:(0,s.jsx)(r.tEF,{size:20})})}),d=e=>{let{children:t,defaultOpen:a,cancelTrigger:i,hideTrigger:o=!1,onOpenChange:d,onTriggerClick:u,dialogContentClassName:p}=e;return(0,c.z)().isMobile()?(0,s.jsxs)(r.dys,{defaultOpen:a,onOpenChange:d,children:[!o&&(0,s.jsx)(r.QzA,{asChild:!0,className:"flex w-fit",children:i?(0,s.jsx)(r.Xl7,{className:"m-2 pointer-events-none text-destructive",size:20}):(0,s.jsx)(l,{onClick:u})}),(0,s.jsxs)(r.scA,{className:"max-h-[95vh]",children:[(0,s.jsx)("div",{className:"p-1 overflow-auto",children:t}),(0,s.jsx)(r.zeN,{className:"pt-2 shadow-[0px_3px_10px_#000]",children:(0,s.jsx)(r.uhl,{asChild:!0,children:(0,s.jsx)(r.zxk,{className:"w-32 mx-auto",children:(0,s.jsx)(n.FormattedMessage,{id:"global.close"})})})})]})]}):(0,s.jsxs)(r.VqE,{defaultOpen:a,onOpenChange:d,children:[!o&&(0,s.jsx)(r.hgM,{asChild:!0,className:"flex w-fit",children:i?(0,s.jsx)(r.Xl7,{className:"m-2 pointer-events-none text-destructive",size:20}):(0,s.jsx)(l,{onClick:u})}),(0,s.jsxs)(r.cZJ,{"aria-describedby":"order details",className:p,children:[(0,s.jsx)(r.TXu,{children:(0,s.jsx)(r.$N8,{})}),t,(0,s.jsx)(r.cNS,{children:(0,s.jsx)(r.GGM,{asChild:!0,children:(0,s.jsx)(r.zxk,{className:"w-32 mx-auto",children:(0,s.jsx)(n.FormattedMessage,{id:"global.close"})})})})]})]})}},80453:function(e,t,a){a.d(t,{M:function(){return n}});var s=a(20043),r=a(10737);let n=e=>{let{title:t,text:a}=e;return a&&(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"font-semibold",children:[(0,s.jsx)(r.FormattedMessage,{id:t}),":"]})," ",(0,s.jsx)("span",{className:"text-gray-400",children:a})]})}},59466:function(e,t,a){a.d(t,{S:function(){return b}});var s=a(20043),r=a(56291),n=a(49987),c=a(56523),i=a(11623),o=a(65649),l=a(53817),d=a(87078),u=a.n(d),p=a(8447),h=a(10737),x=a(49526),m=a(31262),w=a(14660),f=a(80453),v=a(90283),j=a(7227);let g=()=>(0,s.jsx)("span",{className:"absolute px-2 text-xs text-white -rotate-45 bg-red-500 -left-2 top-1/3 whitespace-nowrap",children:(0,s.jsx)(h.FormattedMessage,{id:"store.unavailableProduct"})}),y=()=>(0,s.jsx)("span",{className:"absolute px-2 text-xs text-white capitalize -rotate-45 bg-red-500 -left-5 top-1/3 whitespace-nowrap",children:(0,s.jsx)(h.FormattedMessage,{id:"contact.CANCELED"})}),b=e=>{var t,a,d,b;let{order:S}=e,N=null===(t=S.details)||void 0===t?void 0:t.some(e=>e.pickupLocation),W="es"===(0,l.useLocale)()?i.es:o._,{services:k}=(0,m.e)(),U=null!==(b=null==k?void 0:null===(a=k[p.Cq.STORE.value])||void 0===a?void 0:a.serviceName)&&void 0!==b?b:(0,h.FormattedMessage)({id:"services.store"});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.R,{serviceName:U,serviceStatusKey:S.statusKey,status:S.status}),(0,s.jsxs)("div",{className:"pl-0 ml-5",children:[S.id&&(0,s.jsx)(f.M,{text:S.id.toString(),title:"store.orderNumber"}),!N&&!u()(S.receiberCity)&&!u()(S.receiberState)&&(0,s.jsx)(w.G,{receiverCity:S.receiberCity,receiverDeliveryAddress:S.receiberDeliveryAddress,receiverState:S.receiberState}),!u()(S.createdAt)&&(0,s.jsx)(f.M,{text:(0,n.WU)((0,c.D)(S.createdAt),"d MMM yyyy, h:mm a",{locale:W}),title:"global.date"}),(0,s.jsx)(f.M,{text:S.receiverFullName,title:"store.beneficiary"})]}),!!(null===(d=S.errorDetails)||void 0===d?void 0:d.length)&&(0,s.jsxs)("div",{className:"p-4 md:p-0",children:[(0,s.jsxs)(r.bZj,{variant:"destructive",children:[(0,s.jsx)(r.bG7,{className:"w-4 h-4"}),(0,s.jsx)(r.CdC,{children:(0,s.jsx)(h.FormattedMessage,{id:"store.errorDetails"})}),(0,s.jsx)(r.XaZ,{children:S.errorDetails.map(e=>(0,s.jsx)("p",{children:e},e))})]}),(0,s.jsx)(r.Z0O,{})]}),(0,s.jsx)("div",{className:"lg:max-h-[50vh] max-h-[80vh] overflow-auto p-5",children:!!S.details&&S.details.map(e=>(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex-shrink-0 relative w-[50px] h-[50px]",children:[e.canceled?(0,s.jsx)(y,{}):!e.available&&(0,s.jsx)(g,{}),(0,s.jsx)(x.JG,{alt:e.name,className:"p-1 border aspect-square",height:50,src:e.thumbnailImageUrl,width:50})]}),(0,s.jsx)("p",{className:"text-sm line-clamp-2",children:e.name})]}),N&&(e.pickupLocation?(0,s.jsxs)("p",{children:[(0,s.jsx)(h.FormattedMessage,{id:"store.pickupLocation"}),":"," ",(0,s.jsx)("span",{className:"capitalize",children:e.pickupLocation.description.toLowerCase()})]}):(0,s.jsx)(s.Fragment,{children:!u()(S.receiberCity)&&!u()(S.receiberState)&&(0,s.jsx)(w.G,{receiverCity:S.receiberCity,receiverDeliveryAddress:S.receiberDeliveryAddress,receiverState:S.receiberState})})),(0,s.jsxs)("div",{className:"flex justify-end grid-cols-3 gap-2",children:[(0,s.jsxs)("span",{children:[(0,m.g4)(e.unitPrice)," ",(0,s.jsx)("span",{children:"x"})]}),(0,s.jsx)("span",{children:e.quantity}),(0,s.jsxs)("span",{children:[(0,m.g4)(e.unitPrice*e.quantity)," "]})]}),(0,s.jsx)(r.Z0O,{className:"mb-5"})]},e.productId))}),(0,s.jsx)(j.Z,{note:S.note})]})}},49526:function(e,t,a){a.d(t,{JG:function(){return l},x8:function(){return o}});var s=a(20043),r=a(70358),n=a(98931),c=a(82302);let i="/no-product-fallback.webp",o="/image-not-found.webp",l=e=>{let{alt:t,src:a,className:o,fallback:l=i,fixFallbackImage:d,...u}=e,[p,h]=(0,n.useState)(a||i);return(0,s.jsx)(r.default,{alt:t,blurDataURL:"/placeholder.webp",className:(0,c.cn)(o,{"!my-auto !h-24":p===l&&d}),onError:()=>{h(l)},placeholder:"blur",src:p,...u})}},59250:function(e,t,a){a.d(t,{jD:function(){return n},rU:function(){return s},tv:function(){return c}});let{Link:s,redirect:r,usePathname:n,useRouter:c}=(0,a(13490).iV)({locales:["es","en"],localePrefix:"never"})},67e3:function(e,t,a){a.d(t,{dA:function(){return p},Bk:function(){return u},XB:function(){return v},kC:function(){return x},wH:function(){return g},x$:function(){return m},Dy:function(){return f},CP:function(){return i},Ak:function(){return b},wv:function(){return l},Xp:function(){return o},nC:function(){return j},gc:function(){return S},WK:function(){return d},Ho:function(){return w},UL:function(){return h},Et:function(){return y}});var s=a(8447),r=a(16274),n=a(31262),c=a(60616);let i=async e=>{let{cityId:t,accessToken:a,locale:r}=e,c=await s.WY.get("/store/categories/public?cityId=".concat(t),{headers:(0,n.wU)({accessToken:a,locale:r}).headers,cache:"no-store"}),i=await c.json();return(0,s.SW)({data:i,status:c.status})},o=async(e,t)=>{let{cityId:a,page:r=1,maxPrice:c,minPrice:i,description:o,take:l="24",categoryId:d,showOutOfStock:u,providerId:p}=e,h=new URLSearchParams;h.append("page",r.toString()),h.append("take",l),h.append("cityId",a.toString()),c&&h.append("maxPrice",c.toString()),i&&h.append("minPrice",i.toString()),o&&h.append("description",o),d&&h.append("categoryId",d),u&&h.append("showOutOfStock",u),p&&h.append("providerId",p);let{accessToken:x,locale:m}=t||{},w=await s.WY.get("/store/products/?".concat(h.toString()),(0,n.wU)({accessToken:x,locale:m})),f=await w.json();return(0,s.SW)({data:f,status:w.status})},l=async e=>{let{productId:t,providerId:a,cityId:c,cartId:i,locale:o="es",accessToken:l}=e,d=new URLSearchParams({cityId:c,providerId:a}),u=r.z.string().uuid().safeParse(i);u.success&&d.append("cartId",u.data);let p=await s.WY.get("/store/products/".concat(t,"?").concat(d.toString()),{cache:"no-store",headers:(0,n.wU)({locale:o,accessToken:l}).headers}),h=await p.json();return(0,s.SW)({data:h,status:p.status})},d=async e=>{let{accessToken:t,locale:a,cartId:r}=e,c="/store/cart",i="";t&&(i=r?"".concat(c,"?cartId=").concat(r):c),!t&&r&&(i="".concat(c,"/").concat(r));let o=await s.WY.get(i,{...(0,n.wU)({accessToken:t,locale:a}),cache:"no-store"}),l=await o.json();return(0,s.SW)({data:l,status:o.status})},u=async e=>{let{stateId:t,cityId:a,cartId:r,accessToken:i,locale:o}=e,l=await s.WY.post("/store/cart",{country:Number(c.o.CUBA.key),stateId:t,cityId:a,cartId:r},(0,n.wU)({accessToken:i,locale:o})),d=await l.json();return(0,s.SW)({data:d,status:l.status})},p=async e=>{let{cartId:t,accessToken:a,locale:r,...c}=e,i=await s.WY.patch("/store/cart/".concat(t,"/product"),c,(0,n.wU)({accessToken:a,locale:r})),o=await i.json();return(0,s.SW)({data:o,status:i.status})},h=async e=>{let{cartId:t,productId:a,quantity:r,providerId:c,accessToken:i}=e,o=await s.WY.patch("/store/cart/".concat(t,"/product/").concat(a,"?quantity=").concat(r,"&providerId=").concat(c),{},(0,n.wU)({accessToken:i})),l=await o.json();return(0,s.SW)({data:l,status:o.status})},x=async e=>{let{cartId:t,accessToken:a}=e,r=await s.WY.delete("/store/cart/".concat(t,"/products"),(0,n.wU)({accessToken:a})),c=await r.json();return(0,s.SW)({data:c,status:r.status})},m=async e=>{let{cartId:t,productId:a,providerId:r,accessToken:c}=e,i=await s.WY.delete("/store/cart/".concat(t,"/products/").concat(a,"?providerId=").concat(r),(0,n.wU)({accessToken:c})),o=await i.json();return(0,s.SW)({data:o,status:i.status})},w=async e=>{let{cartId:t,accessToken:a}=e,r=await s.WY.put("/store/cart/".concat(t,"/unavailable-read"),{},(0,n.wU)({accessToken:a})),c=await r.json();return(0,s.SW)({data:c,status:r.status})},f=async e=>{let{cartId:t,accessToken:a}=e,r=await s.WY.get("/store/cart/".concat(t,"/shipping"),(0,n.wU)({accessToken:a})),c=await r.json();return(0,s.SW)({data:c,status:r.status})},v=async e=>{let{note:t,cartId:a,accessToken:r,receiveContactId:c,userIdentityDocumentId:i}=e,o=await s.WY.post("/store/v2/order",{cartId:a,receiveContactId:c,userIdentityDocumentId:i,note:t},(0,n.wU)({accessToken:r})),l=await o.json();return(0,s.SW)({data:l,status:o.status})},j=async e=>{let{accessToken:t,locale:a="es",page:r=1,id:c,take:i=5}=e,o=new URLSearchParams({page:"".concat(r),take:i.toString()});c&&o.append("id",c);let l=await s.WY.get("/store/v2/orders?".concat(o.toString()),{headers:(0,n.wU)({accessToken:t,locale:a}).headers,cache:"no-store"}),d=await l.json();return(0,s.SW)({data:d,status:l.status})},g=async e=>{let{orderId:t,accessToken:a}=e,r=await s.WY.delete("/store/orders/".concat(t),(0,n.wU)({accessToken:a})),c=await r.json();return(0,s.SW)({data:c,status:r.status})},y=async e=>{let{items:t,cartId:a,accessToken:r,locale:c}=e,i=await s.WY.patch("/store/cart/".concat(a,"/products/shipment-type"),{items:t},(0,n.wU)({accessToken:r,locale:c})),o=await i.json();return(0,s.SW)({data:o,status:i.status})},b=async e=>{let{productId:t,cityId:a,providerId:r,cartId:c,accessToken:i,shipmentTypeId:o}=e,l="/store/products/".concat(t,"/pickup-locations?cityId=").concat(a,"&providerId=").concat(r,"&cartId=").concat(c,"&shypmentTypeId=").concat(o),d=await s.WY.get(l,(0,n.wU)({accessToken:i})),u=await d.json();return(0,s.SW)({data:u,status:d.status})},S=async e=>{let{accessToken:t,locale:a="es",id:r}=e,c=await s.WY.get("/store/orders/".concat(r),{headers:(0,n.wU)({accessToken:t,locale:a}).headers,cache:"no-store"}),i=await c.json();return(0,s.SW)({data:i,status:c.status})}},60616:function(e,t,a){a.d(t,{o:function(){return s}});let s={CUBA:{value:"Cuba",key:"56",alpha_code2:"CU"},USA:{value:"United States",key:"233",alpha_code2:"US"}};s.USA.value,s.USA.key},86519:function(e,t,a){a.r(t),a.d(t,{useGender:function(){return r}});var s=a(53817);let r=()=>{let e=(0,s.useTranslations)(),t=[{key:"Femenino",value:e("register.female")},{key:"Masculino",value:e("register.male")},{key:"Otro",value:e("register.other")}];return{states:{GENDER_OPTIONS:t},actions:{filterByGender:e=>{var a;return(null===(a=t.find(t=>t.key===e))||void 0===a?void 0:a.key)||""}}}}},74957:function(e,t,a){a.r(t),a.d(t,{useMounted:function(){return r}});var s=a(98931);let r=()=>{let[e,t]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{t(!0)},[]),{isMounted:e}}},70157:function(e,t,a){a.r(t),a.d(t,{useRemoveSearchParams:function(){return c}});var s=a(9474),r=a(53817),n=a(59250);let c=()=>{let e=(0,r.useLocale)(),t=(0,n.jD)(),a=(0,s.useSearchParams)();return{removeSearchParams:s=>{if(!(null==s?void 0:s.length)){window.history.replaceState(null,"","/".concat(e).concat(t));return}let r=new URLSearchParams(a.toString());s.forEach(e=>{r.delete(e)}),window.history.replaceState(null,"","/".concat(e).concat(t,"?").concat(r.toString()))}}}},73892:function(e,t,a){a.d(t,{z:function(){return n}});var s=a(98931);let r=s.useLayoutEffect,n=()=>{let[e,t]=(0,s.useState)([1920,1080]);r(()=>{let e=()=>{t([window.innerWidth,window.outerHeight])};e();let a=window.matchMedia("(max-width: 768px)"),s=window.matchMedia("(max-width: 1024px)"),r=window.matchMedia("(min-width: 1025px)");return r.addEventListener&&r.addEventListener("change",e=>{e.matches&&t([window.innerWidth,window.outerHeight])}),a.addEventListener&&a.addEventListener("change",e=>{e.matches&&t([window.innerWidth,window.outerHeight])}),s.addEventListener&&s.addEventListener("change",e=>{e.matches&&t([window.innerWidth,window.outerHeight])}),()=>{a.removeEventListener&&a.removeEventListener("change",e),s.removeEventListener&&s.removeEventListener("change",e),r.removeEventListener&&r.removeEventListener("change",e)}},[]);let a=(0,s.useCallback)(()=>e[0]<768,[e]),n=(0,s.useCallback)(()=>e[0]<1024,[e]);return{width:e[0],height:e[1],isMobile:a,isTablet:n}}}}]);