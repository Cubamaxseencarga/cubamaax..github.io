!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="87cd4cf9-08e6-4b98-8898-c99fd79234c4",e._sentryDebugIdIdentifier="sentry-dbid-87cd4cf9-08e6-4b98-8898-c99fd79234c4")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6033],{32762:function(e,t,s){s.d(t,{r:function(){return y}});var a=s(20043),n=s(49987),r=s(56523),i=s(11623),l=s(65649),c=s(53817),o=s(8447),d=s(87078),u=s.n(d),m=s(10737),x=s(31262),f=s(14660),p=s(80453),v=s(90283),g=s(7227);let y=e=>{var t,s;let{order:d}=e,y="es"===(0,c.useLocale)()?i.es:l._,{services:h}=(0,x.e)(),j=null!==(s=null==h?void 0:null===(t=h[o.Cq.REMITTANCE.value])||void 0===t?void 0:t.serviceName)&&void 0!==s?s:(0,m.FormattedMessage)({id:"remittance.meta.title"});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.R,{serviceName:j,serviceStatusKey:d.statusKey,status:d.status}),(0,a.jsxs)("div",{className:"pl-0 ml-5 space-y-2",children:[d.id&&(0,a.jsx)(p.M,{text:d.id.toString(),title:"store.orderNumber"}),!u()(d.receiberCity)&&!u()(d.receiberState)&&(0,a.jsx)(f.G,{receiverCity:d.receiberCity,receiverDeliveryAddress:d.receiberStreetAddress,receiverState:d.receiberState}),!u()(d.createdAt)&&(0,a.jsx)(p.M,{text:(0,n.WU)((0,r.D)(d.createdAt),"d MMM yyyy, h:mm a",{locale:y}),title:"global.date"}),(0,a.jsx)(p.M,{text:d.ofac,title:"global.type"}),(0,a.jsx)(p.M,{text:d.receiberFullName,title:"store.beneficiary"}),"MLC"===d.receiveCurrency&&(0,a.jsx)(p.M,{text:d.toAccountNumber,title:"remittance.toAccountNumber"}),(0,a.jsx)(p.M,{text:"".concat(d.receiveAmount," ").concat(d.receiveCurrency),title:"remittance.amountToReceive"}),!u()(d.sendAmount)&&(0,a.jsx)(p.M,{text:"".concat((0,x.g4)(d.sendAmount)," USD"),title:"store.totalToPay"}),!u()(d.sendAmount)&&!u()(d.receiveAmount)&&(0,a.jsx)(p.M,{text:"1 USD = ".concat(d.receiveAmount/d.sendAmount," ").concat(d.receiveCurrency),title:"remittance.exchangeRate"}),(0,a.jsx)(g.Z,{note:d.note})]})]})}},11131:function(e,t,s){s.d(t,{a:function(){return v}});var a=s(20043),n=s(82302),r=s(49987),i=s(56523),l=s(53817),c=s(11623),o=s(65649),d=s(8447),u=s(10737),m=s(31262),x=s(80453),f=s(90283);let p=(e,t)=>e.filter(e=>{let{sent:s}=e;return s!==t}).map(e=>{let{phone:t}=e;return t}).join(", "),v=e=>{var t,s;let{smsDetails:v}=e,g="es"===(0,l.useLocale)()?c.es:o._,{services:y}=(0,m.e)(),h=null!==(s=null==y?void 0:null===(t=y[d.Cq.SMS.value])||void 0===t?void 0:t.serviceName)&&void 0!==s?s:"SMS";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.R,{serviceName:h,serviceStatusKey:"COMPLETED",status:(0,u.FormattedMessage)({id:"virtualLocker.shipmentStatus.COMPLETED"})}),(0,a.jsxs)("div",{className:"pl-0 ml-5 space-y-2",children:[(0,a.jsx)(x.M,{text:v.id.toString(),title:"store.orderNumber"}),(0,a.jsx)(x.M,{text:(0,r.WU)((0,i.D)(v.createdAt),"d MMM yyyy, h:mm a",{locale:g}),title:"global.date"}),(0,a.jsxs)("div",{className:"flex flex-col items-start justify-start",children:[p(v.to,!1)&&(0,a.jsxs)("p",{className:(0,n.cn)("flex items-center gap-1"),children:[(0,a.jsxs)("span",{className:"font-bold ",children:[(0,a.jsx)(u.FormattedMessage,{id:"sms.sendTo"}),":"]}),(0,a.jsx)("span",{children:p(v.to,!1)})]}),p(v.to,!0)&&(0,a.jsxs)("p",{className:(0,n.cn)("flex items-center gap-1"),children:[(0,a.jsxs)("span",{className:"font-bold ",children:[(0,a.jsx)(u.FormattedMessage,{id:"sms.rejected"}),":"]}),(0,a.jsx)("span",{children:(0,a.jsx)("span",{children:p(v.to,!0)})})]})]}),(0,a.jsx)(x.M,{text:v.message,title:"sms.smsMessageLabel"}),(0,a.jsx)(x.M,{text:"".concat((0,m.g4)(v.price)," USD"),title:"store.price"})]})]})}},72115:function(e,t,s){s.d(t,{E:function(){return f}});var a=s(20043),n=s(49987),r=s(56523),i=s(11623),l=s(65649),c=s(53817),o=s(8447),d=s(10737),u=s(31262),m=s(80453),x=s(90283);let f=e=>{var t,s;let{order:f}=e,p="es"===(0,c.useLocale)()?i.es:l._,{services:v}=(0,u.e)(),g=null!==(s=null==v?void 0:null===(t=v[o.Cq.TOPUP.value])||void 0===t?void 0:t.serviceName)&&void 0!==s?s:(0,d.FormattedMessage)({id:"services.topups"});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.R,{serviceName:g,serviceStatusKey:f.statusKey,status:f.status}),(0,a.jsxs)("div",{className:"pl-0 ml-5 space-y-2",children:[(0,a.jsx)(m.M,{text:f.id.toString(),title:"store.orderNumber"}),(0,a.jsx)(m.M,{text:(0,n.WU)((0,r.D)(f.createdAt),"d MMM yyyy, h:mm a",{locale:p}),title:"global.date"}),(0,a.jsx)(m.M,{text:f.accountReference,title:"store.beneficiary"}),(0,a.jsx)(m.M,{text:f.account,title:"login.form.phoneNumber"}),(0,a.jsx)(m.M,{text:f.serviceName,title:"topups.promotionType"}),(0,a.jsx)(m.M,{text:"".concat((0,u.g4)(f.amount)," USD"),title:"topups.rechargeAmount"})]})]})}},56493:function(e,t,s){s.d(t,{c:function(){return U}});var a=s(20043),n=s(82302),r=s(56291),i=s(8447),l=s(10737),c=s(16949),o=s(31262),d=s(17605),u=s(99647),m=s(49987),x=s(53817),f=s(98931),p=s(11623),v=s(65649),g=s(96428),y=s(9474),h=s(48225),j=s(13984),b=s(46101),N=s(67e3),S=s(77031);let w=()=>{let[e,t]=(0,f.useTransition)(),[s,a]=(0,f.useState)(),[n,r]=(0,f.useState)(),[l,c]=(0,f.useState)(),[d,u]=(0,f.useState)(),{getAccessToken:m}=(0,j.ZO)(),x=(0,y.useSearchParams)(),[p,v]=(0,f.useState)(!1),{removeSearchParams:g}=(0,o.jl)(),w=x.get(o.az.SERVICES_DETAILS_ID),E=x.get(o.az.OPERATION_ID),C=x.get(o.az.SERVICE_TYPE_ID),I=e=>{let{serviceDetailsId:t,serviceTypeId:s}=e;(0,o.DR)({[o.az.OPERATION_ID]:"".concat(E),[o.az.SERVICES_DETAILS_ID]:"".concat(t),[o.az.SERVICE_TYPE_ID]:"".concat(s)})},M=e=>{e||g([o.az.SERVICES_DETAILS_ID,o.az.SERVICE_TYPE_ID]),v(e)};(0,h.Z)(async()=>{w&&E&&C&&(await T[C].fn({serviceId:w}),v(!0))},[]);let T={[i.Cq.STORE.key]:{fn:e=>{let{serviceId:n}=e;t(async()=>{if(I({serviceDetailsId:n,serviceTypeId:i.Cq.STORE.key}),!n||(null==s?void 0:s.id)===n)return;let e=await m();if(!e)return;let{data:t,success:r}=await (0,N.gc)({accessToken:e,id:n.toString()});r&&a(t.order)})},value:s,isLoading:e,openModal:p,handleCloseOrderDetailsModal:M},[i.Cq.REMITTANCE.key]:{fn:e=>{let{serviceId:s}=e;t(async()=>{if(I({serviceDetailsId:s,serviceTypeId:i.Cq.REMITTANCE.key}),!s||(null==n?void 0:n.id)===s)return;let e=await m();if(!e)return;let{data:t,success:a}=await (0,b.NP)({accessToken:e,id:s.toString()});a&&r(t)})},value:n,isLoading:e,openModal:p,handleCloseOrderDetailsModal:M},[i.Cq.TOPUP.key]:{fn:e=>{let{serviceId:s}=e;t(async()=>{if(I({serviceDetailsId:s,serviceTypeId:i.Cq.TOPUP.key}),!s||(null==l?void 0:l.id)===s)return;let e=await m();if(!e)return;let{data:t,success:a}=await (0,b.i9)({accessToken:e,id:s.toString()});a&&c(t)})},value:l,isLoading:e,openModal:p,handleCloseOrderDetailsModal:M},[i.Cq.SMS.key]:{fn:e=>{let{serviceId:s}=e;t(async()=>{if(I({serviceDetailsId:s,serviceTypeId:i.Cq.SMS.key}),!s||(null==d?void 0:d.id)===s)return;let e=await m();if(!e)return;let{data:t,success:a}=await (0,S.Rm)({accessToken:e,id:s.toString()});a&&u(t.sms)})},value:d,isLoading:e,openModal:p,handleCloseOrderDetailsModal:M}};return{handleGetOrdersDetails:T}},E=e=>{var t;let{currentPayment:s,onUpdatePayment:a}=e,n=(0,x.useLocale)(),r=(0,f.useRef)(null),{addPaymentHistory:i,data:l}=(0,g.Tp)(),c=(0,g.mA)(e=>e.paymentStatuses),{handleGetOrdersDetails:d}=w(),[u,y]=(0,m.WU)(new Date(s.date),"dd MMM yyyy, HH:mm",{locale:"es"===n?p.es:v._}).split(","),h=s.amountBreakdown.CARD.amount,j=s.amountBreakdown.BALANCE,b="contact.".concat((0,o.ss)(s.serviceTypeId));return{states:{date:u,time:y,total:h+j,statusText:(null===(t=c.find(e=>e.statusKey===s.paymentStatusId))||void 0===t?void 0:t.label)||"unknown",cardAmount:h,balanceAmount:j,serviceTypeText:b,dialogTriggerRef:r,handleGetOrdersDetails:d},actions:{handleCompletePayment:e=>{var t;let{payment:s}=e,n=l.payments.map(e=>e.operationId===s.operationId?{...e,paymentStatusId:o.qO.COMPLETED}:e);i({...l,payments:n}),null==a||a(o.qO.COMPLETED),null===(t=r.current)||void 0===t||t.click()}}}};var C=s(61374),I=s(32762),M=s(59466),T=s(11131),D=s(72115);let A=e=>{let{isLoading:t,order:s,serviceTypeId:n}=e;return t?(0,a.jsx)(r.aNw,{className:"h-28 min-h-28"}):n===i.Cq.STORE.key&&s?(0,a.jsx)(M.S,{order:s}):n===i.Cq.REMITTANCE.key&&s?(0,a.jsx)(I.r,{order:s}):n===i.Cq.TOPUP.key&&s?(0,a.jsx)(D.E,{order:s}):n===i.Cq.SMS.key&&s?(0,a.jsx)(T.a,{smsDetails:s}):null},R=e=>{let{order:t,serviceId:s,serviceTypeId:n,isLoadingOrder:r=!1,handleGetOrderDetails:i,dialogContentClassName:l}=e;return(0,a.jsx)(C.W,{cancelTrigger:!s,dialogContentClassName:l,onTriggerClick:i,children:(0,a.jsx)(A,{isLoading:r,order:t,serviceTypeId:n})})},k=(0,s(82550).j)("absolute p-3 -top-14 md:-top-10 rounded-xl w-fit text-[#fff]",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",tertiary:"text-foreground bg-gray-200 border border-gray-400",fourth:"text-foreground bg-orange-400 border border-orange-400 hover:bg-orange-400/80"}},defaultVariants:{variant:"default"}}),O=e=>{let{type:t,variant:s}=e,n=(0,r.Efr)(t);return(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)("div",{className:k({variant:s}),children:(0,a.jsx)(n,{color:"#FFF",size:50})})})},U=e=>{var t,s;let{payment:m,className:x="border-none shadow-none md:border md:shadow-md",onUpdatePayment:f,hasOperationIdInUrl:p,showOrderModalDetails:v=!1}=e,{actions:{handleCompletePayment:g},states:{date:y,time:h,total:j,statusText:b,cardAmount:N,balanceAmount:S,serviceTypeText:w,dialogTriggerRef:C,handleGetOrdersDetails:I}}=E({currentPayment:m,onUpdatePayment:f});return(0,a.jsxs)(r.Zbd,{className:(0,n.cn)("relative h-fit",x),children:[(0,a.jsx)(O,{type:(0,o.ss)(m.serviceTypeId),variant:d.D[m.paymentStatusId]}),(0,a.jsx)(r.Ol2,{children:(0,a.jsx)(r.llK,{className:"pt-5 text-xl text-center",children:b})}),(0,a.jsxs)(r.aYP,{className:"flex flex-col justify-center w-auto gap-4 pt-0 border-none h-fit",children:[(0,a.jsx)(r.Z0O,{}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("span",{className:"text-grey",children:(0,a.jsx)(l.FormattedMessage,{id:"contact.operation"})}),(0,a.jsxs)("span",{className:"flex items-center h-10 gap-1 text-lg",children:[(0,a.jsx)(l.FormattedMessage,{id:w}),v&&m.serviceTypeId!==i.Cq.BALANCE.key&&(0,a.jsx)(R,{handleGetOrderDetails:()=>{var e;return null===(e=I[m.serviceTypeId])||void 0===e?void 0:e.fn({serviceId:m.serviceId})},isLoadingOrder:null===(t=I[m.serviceTypeId])||void 0===t?void 0:t.isLoading,order:null===(s=I[m.serviceTypeId])||void 0===s?void 0:s.value,serviceId:m.serviceId,serviceTypeId:m.serviceTypeId})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 justify-self-end text-end",children:[(0,a.jsx)("span",{className:"text-grey",children:"Total"}),(0,a.jsx)("span",{className:"text-lg",children:(0,o.g4)(j)})]})]}),!m.serviceId&&m.serviceTypeId!==i.Cq.BALANCE.key&&(0,a.jsx)("span",{className:"absolute text-xs -bottom-2 md:-bottom-5 xl:-bottom-2 text-destructive",children:(0,a.jsx)(l.FormattedMessage,{id:"paymentHistory.orderDeleted"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("span",{className:"text-grey",children:(0,a.jsx)(l.FormattedMessage,{id:"global.date"})}),(0,a.jsx)("span",{className:"text-lg",children:y})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 justify-self-end text-end",children:[(0,a.jsx)("span",{className:"text-grey",children:(0,a.jsx)(l.FormattedMessage,{id:"global.time"})}),(0,a.jsx)("span",{className:"text-lg",children:h})]})]}),S>0&&(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"bg-white shadow",children:(0,a.jsx)(r.LBg,{fill:"#000",height:29,width:47})}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full text-end",children:[(0,a.jsx)("div",{className:"flex flex-col",children:(0,a.jsx)("span",{children:(0,a.jsx)(l.FormattedMessage,{id:"global.balance"})})}),(0,a.jsx)("span",{className:"text-lg",children:(0,o.g4)(S)})]})]}),N>0&&(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[u._[m.amountBreakdown.CARD.brand]||(0,a.jsx)(r.ciH,{className:"text-black",size:90}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{children:m.amountBreakdown.CARD.brand}),(0,a.jsxs)("span",{children:["**** ",m.amountBreakdown.CARD.lastFour]})]}),(0,a.jsx)("span",{className:"text-lg text-end",children:(0,o.g4)(N)})]})]})]}),m.paymentStatusId===Number(o.qO.PENDING)?(0,a.jsx)(r.eWM,{children:(0,a.jsxs)(r.VqE,{children:[(0,a.jsx)(r.hgM,{asChild:!0,ref:C,children:(0,a.jsx)(r.zxk,{className:"w-full ",children:(0,a.jsx)(l.FormattedMessage,{id:"contact.validateOperation"})})}),(0,a.jsx)(r.cZJ,{className:"justify-center",children:(0,a.jsx)(c.p,{hasOperationIdInUrl:p,lastFour:m.amountBreakdown.CARD.lastFour,onCancel:()=>{var e;null===(e=C.current)||void 0===e||e.click()},onSuccess:g,operationId:m.operationId,serviceId:m.serviceId,serviceName:w,timeLeft:m.timeLeft})})]})}):null]})}},99647:function(e,t,s){s.d(t,{_:function(){return r}});var a=s(20043),n=s(56291);let r={MASTERCARD:(0,a.jsx)(n.oVw,{height:60,width:60}),VISA:(0,a.jsx)(n.QHH,{height:60,width:60}),DISCOVER:(0,a.jsx)(n.VqB,{height:60,width:60}),"AMERICAN EXPRESS":(0,a.jsx)(n.FCJ,{height:60,width:60})}},20860:function(e,t,s){s.d(t,{g:function(){return a}});let a=(0,s(43061).Ue)()(e=>({open:!1,dialog:t=>{e({open:t.open||!1,title:t.title,description:t.description,acceptButtonLabel:t.acceptButtonLabel,handleOnAccept:t.handleOnAccept,handleOnCancel:t.handleOnCancel})},setOpen:t=>{e({open:t})}}))},24671:function(e,t,s){s.d(t,{Y:function(){return n}});var a=s(20860);let n=()=>(0,a.g)(e=>e.dialog)},10737:function(e,t,s){s.r(t),s.d(t,{FormattedMessage:function(){return n}});var a=s(53817);let n=e=>{let{id:t,values:s={}}=e;return(0,a.useTranslations)()(t,s)}},56960:function(e,t,s){s.d(t,{z:function(){return n}});var a=s(53817);let n=e=>{let{id:t,values:s}=e;return(0,a.useTranslations)().rich(t,s)}},45590:function(e,t,s){s.d(t,{j:function(){return i}});var a=s(20043),n=s(56291),r=s(17605);let i=e=>{let{status:t,statusKey:s}=e;return(0,a.jsx)(n.Cts,{className:"uppercase w-fit",variant:r.B[s||"UNKNOWN"],children:null!=t?t:"unknown"})}},97552:function(e,t,s){s.d(t,{$:function(){return a}});let a=(0,s(43061).Ue)(e=>({open:!1,description:"",setOpen:t=>{e(()=>(t||e(()=>({description:""})),{open:t}))},setDescription:t=>{e(()=>({description:t}))}}))},16949:function(e,t,s){s.d(t,{p:function(){return x}});var a=s(20043),n=s(56291),r=s(56960),i=s(10737),l=s(98931),c=s(13984),o=s(81202),d=s(67915),u=s(59250);let m=e=>{let{onError:t,onSuccess:s,operationId:a,hasOperationIdInUrl:n}=e,[r,i]=(0,l.useTransition)(),[m,x]=(0,l.useState)(""),{getAccessToken:f}=(0,c.ZO)(),{handleApiErrors:p}=(0,d.R8)(),v=(0,u.tv)();return{states:{loading:r,code:m},actions:{setCode:x,handleVerifyPendingPayment:()=>{i(async()=>{let e=await f();if(!e)return;let{data:r,...i}=await (0,o.kU)({operationId:a,verificationCode:m,accessToken:e});if(!p(i,{hideSuccessMessage:!0}))return null==t?void 0:t({data:r,...i});s(r),n&&v.back()})}}}},x=e=>{let{lastFour:t,operationId:s,onCancel:l,onSuccess:c,onError:o,hasOperationIdInUrl:d=!1,timeLeft:u="72:00:00"}=e,{states:{loading:x,code:f},actions:{setCode:p,handleVerifyPendingPayment:v}}=m({hasOperationIdInUrl:d,onError:o,onSuccess:c,operationId:s});return(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:(0,a.jsx)(r.z,{id:"checkout.validateOperation",values:{lastFour:t}})}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,a.jsx)(n.bG7,{className:"flex-shrink-0 text-destructive"}),(0,a.jsx)("span",{className:"text-foreground",children:(0,a.jsx)(r.z,{id:"checkout.cancelOrder",values:{timeLeft:u}})})]}),(0,a.jsxs)("div",{className:"flex flex-col justify-center mt-4",children:[(0,a.jsx)("h1",{className:"text-3xl font-semibold text-center",children:"CMAX###"}),(0,a.jsx)(n.rbi,{length:3,onChange:p}),(0,a.jsxs)("div",{className:"grid justify-center grid-cols-2 gap-4 mt-8",children:[(0,a.jsx)(n.zxk,{disabled:x,onClick:()=>{l()},variant:"outline",children:(0,a.jsx)(i.FormattedMessage,{id:"global.cancel"})}),(0,a.jsx)(n.zxk,{disabled:f.length<3,isLoading:x,onClick:v,children:(0,a.jsx)(i.FormattedMessage,{id:"global.verify"})})]})]})]})}},81202:function(e,t,s){s.d(t,{Rf:function(){return l},UY:function(){return r},kU:function(){return i},lU:function(){return c}});var a=s(8447),n=s(31262);let r=async e=>{let{service:t,accessToken:s}=e,r=await a.WY.post("/payment/pay",t,(0,n.wU)({accessToken:s})),i=await r.json();return(0,a.SW)({data:i,status:r.status})},i=async e=>{let{operationId:t,verificationCode:s,accessToken:r}=e,i=await a.WY.post("/payment/capture",{operationId:t,verificationCode:s},(0,n.wU)({accessToken:r})),l=await i.json();return(0,a.SW)({data:l,status:i.status})},l=async e=>{let{transfer:t,accessToken:s,locale:r}=e,i=await a.WY.post("/payment/balance-transfer",t,(0,n.wU)({accessToken:s,locale:r})),l=await i.json();return(0,a.SW)({data:l,status:i.status})},c=async e=>{let{operationId:t,accessToken:s,locale:r}=e,i=await a.WY.get("/payment/operation/".concat(t),(0,n.wU)({accessToken:s,locale:r})),l=await i.json();return(0,a.SW)({data:l,status:i.status})}},96428:function(e,t,s){s.d(t,{Wr:function(){return o},Gt:function(){return n},Rl:function(){return u},fg:function(){return l},QP:function(){return d},BW:function(){return c},Tp:function(){return m},mA:function(){return x.m}});var a=s(16274);let n=a.z.object({services:a.z.array(a.z.string()).optional(),paymentStatus:a.z.array(a.z.string()).optional()});var r=s(8447),i=s(31262);let l=async e=>{let{locale:t,accessToken:s,page:a=1,take:n=10,services:l,payments:c}=e,o=await r.WY.post("/payment",{page:a,take:n,serviceTypeKey:l,paymentStatusKey:c},(0,i.wU)({locale:t,accessToken:s})),d=await o.json();return(0,r.SW)({data:d,status:o.status})},c=async e=>{let{locale:t,accessToken:s,page:a=1,take:n=10}=e,l="/payment/balance-transfer/?page=".concat(a,"&take=").concat(n),c=await r.WY.get(l,{...(0,i.wU)({locale:t,accessToken:s}),cache:"no-store"}),o=await c.json();return(0,r.SW)({data:o,status:c.status})},o=async e=>{let{transferId:t,accessToken:s}=e,a=await r.WY.delete("/payment/balance-transfer/".concat(t),(0,i.wU)({accessToken:s})),n=await a.json();return(0,r.SW)({data:n,status:a.status})},d=async e=>{let{accessToken:t,locale:s}=e,a=await r.WY.get("/payment/statuses",(0,i.wU)({accessToken:t,locale:s})),n=await a.json();return(0,r.SW)({data:n,status:a.status})},u=async e=>{let{id:t,accessToken:s}=e,a=await r.WY.get("/payment/operation/".concat(t),(0,i.wU)({accessToken:s})),n=await a.json();return(0,r.SW)({data:n,status:a.status})},m=(0,s(43061).Ue)(e=>({data:{payments:[],total:0,page:0,take:0,pageCount:0,itemPageCount:0,hasPreviousPage:!1,hasNextPage:!1},filters:{services:[],payments:[]},addPaymentHistory:t=>{e(()=>({data:t}))},setFilters:t=>{e(()=>({filters:t}))}}));var x=s(35348)},35348:function(e,t,s){s.d(t,{m:function(){return r}});var a=s(43061),n=s(50149);let r=(0,a.Ue)()((0,n.tJ)(e=>({paymentStatuses:[],orderStatuses:[],setPaymentStatuses:t=>e({paymentStatuses:t.paymentStatuses,orderStatuses:t.orderStatuses})}),{name:"payment-statuses"}))},77031:function(e,t,s){s.d(t,{Ed:function(){return x},wL:function(){return m},Rm:function(){return f},Q6:function(){return u},Zq:function(){return c}});var a=s(16274),n=s(7425),r=s(87178);let i=e=>({valid:new Set(e).size===e.length,indexOfDuplicatedPhoneNumbers:l(e)}),l=e=>{let t={};return e.forEach((e,s)=>{t[e]?t[e].push(s):t[e]=[s]}),Object.values(t).filter(e=>e.length>1).flat()},c=e=>a.z.object({phones:a.z.array(a.z.object({phoneNumber:r.$W})).min(1,{message:n.om.Required}).superRefine((t,s)=>{let a=t.map(e=>e.phoneNumber),r=i(a);r.valid||r.indexOfDuplicatedPhoneNumbers.forEach(e=>{s.addIssue({code:"custom",message:n.om.DuplicatedPhones,path:["".concat(e,".phoneNumber")]})}),e&&a.forEach((t,a)=>{t===e&&s.addIssue({code:"custom",message:n.om.SameUserPhone,path:["".concat(a,".phoneNumber")]})})}),smsText:a.z.string().min(1,{message:n.om.Required}).max(150,n.om.Max150Characters)});var o=s(8447),d=s(31262);let u=async e=>{let{body:t,accessToken:s}=e,a=await o.WY.post("/sms",t,{...(0,d.wU)({accessToken:s})}),n=await a.json();return(0,o.SW)({data:n,status:a.status})},m=async e=>{let{accessToken:t,queryParams:s,locale:a}=e,n=new URLSearchParams;Object.entries(s).forEach(e=>{let[t,s]=e;(0,d.xb)(s)||n.append(t,"".concat(s))});let r=await o.WY.get("".concat("/sms","?").concat(n.toString()),{...(0,d.wU)({accessToken:t,locale:a}),cache:"no-store"}),i=await r.json();return(0,o.SW)({data:i,status:r.status})},x=async e=>{let{id:t,accessToken:s}=e,a=await o.WY.delete("/sms/".concat(t),(0,d.wU)({accessToken:s})),n=await a.json();return(0,o.SW)({data:n,status:a.status})},f=async e=>{let{accessToken:t,id:s}=e,a=await o.WY.get("/sms/".concat(s),{...(0,d.wU)({accessToken:t}),cache:"no-store"}),n=await a.json();return(0,o.SW)({data:n,status:a.status})}},17605:function(e,t,s){s.d(t,{B:function(){return a},D:function(){return n}});let a={COMPLETED:"default",REJECTED:"destructive",FULL_REFUND_TO_BALANCE:"destructive",REFUNDED:"destructive",PENDING:"secondary",UNKNOWN:"tertiary"},n={1:"default",2:"destructive",3:"destructive",5:"fourth",4:"fourth",6:"fourth",10:"secondary",11:"secondary",100:"destructive",500:"destructive",UNKNOWN:"tertiary"}},67915:function(e,t,s){s.d(t,{R8:function(){return p}});var a=s(20043),n=s(8447),r=s(56291),i=s(53817),l=s(97552),c=s(59250),o=s(13984),d=s(24671),u=s(96157),m=s(43533);let x=e=>{let{title:t,description:s}=e;(0,r.Amu)({title:t,description:s,variant:"destructive"})},f=e=>{(0,r.Amu)({title:"Error",description:(0,a.jsx)(r.Dyp,{errors:e}),variant:"destructive"})},p=()=>{let{setOpen:e,setDescription:t}=(0,l.$)(),s=(0,i.useTranslations)(),a=(0,c.jD)(),{handleLogout:p}=(0,o.aU)(),v=(0,d.Y)();return{handleApiErrors:(i,l)=>{let{errors:c,message:o,errorsDetails:d,statusCode:g}=i;if((null==d?void 0:d.code)===n.RA.HELP&&(e(!0),t(d.description||"")),o===n.h3)return x({title:s("global.errorConnection.title"),description:s("global.errorConnection.description")}),!1;let y=c instanceof n.MS&&(0,n.HH)(c),h=[n.ou.Unauthorized,n.ou.Forbidden].some(e=>e.code===g);return(y||h)&&a!==u.am.Login?(p(u.am.Login),g===n.ou.Forbidden.code&&v({open:!0,title:"global.alert",description:"global.userBlocked"}),!1):o===n.ec?(x({title:"Error",description:s("global.wentWrong")||""}),(0,m.Tb)(c,{message:o}),!1):(null==c?void 0:c.length)?((null==l?void 0:l.hideErrorMessage)||f(c),!1):(!o||(null==l?void 0:l.hideSuccessMessage)||(0,r.Amu)({title:o}),!0)}}}}}]);